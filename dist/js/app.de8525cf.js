(function(){"use strict";var t={2341:function(t,e,n){var r=n(9242),o=n(3396),a=n(7139);const i={key:0,class:"auth"},l={key:1,class:"timer"};function s(t,e,n,r,s,u){return(0,o.wg)(),(0,o.iD)("main",null,[t.token?((0,o.wg)(),(0,o.iD)("div",l,(0,a.zw)(t.timer),1)):((0,o.wg)(),(0,o.iD)("div",i," Авторизация... "))])}var u=n(4870),c=(0,o.aZ)({name:"App",components:{},setup(){const t=9628,e="https://toopenya.github.io/Donaton/",n=new URLSearchParams(new URL(window.location.toString()).hash.slice(1));let r=10,o=(0,u.iH)(0),a=0;n.has("rublePerMin")?(r=parseInt(n.get("rublePerMin")),localStorage.setItem("rublePerMin",r)):localStorage["rublePerMin"]&&(r=parseInt(localStorage["rublePerMin"])),n.has("timer")?(o.value=parseInt(n.get("timer")),localStorage.setItem("timer",o.value)):localStorage["timer"]&&(o.value=parseInt(localStorage["timer"])),n.has("lastAlertId")?(a=parseInt(n.get("lastAlertId")),localStorage.setItem("lastAlertId",a)):localStorage["lastAlertId"]&&(a=parseInt(localStorage["lastAlertId"]));let i=n.get("access_token");i||(window.location=`https://www.donationalerts.com/oauth/authorize?client_id=${t}&redirect_uri=${encodeURI(e)}&response_type=token&scope=oauth-donation-subscribe oauth-donation-index oauth-user-show`);const l=async()=>{const t=await(await fetch(`https://www.donationalerts.com/api/v1/alerts/donations?access_token=${i}`,{headers:{Authorization:`Bearer ${i}`}})).json();if(t.data.length>0){const e=t.data[0];e.id>a&&(t.data.forEach((t=>{t.id>a&&(a=t.id,localStorage.setItem("lastAlertId",a),o.value+=t.amount_in_user_currency/r*60,localStorage.setItem("timer",o.value))})),a=e.id,localStorage.setItem("lastAlertId",a))}},s=(0,u.Fl)((()=>new Date(1e3*o.value).toISOString().substr(11,8)));return l(),setInterval((()=>{l()}),5e3),{token:i,currentTimer:o,timer:s}}}),f=n(89);const d=(0,f.Z)(c,[["render",s]]);var h=d;(0,r.ri)(h).mount("#app")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,a){if(!r){var i=1/0;for(c=0;c<t.length;c++){r=t[c][0],o=t[c][1],a=t[c][2];for(var l=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[s])}))?r.splice(s--,1):(l=!1,a<i&&(i=a));if(l){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,i=r[0],l=r[1],s=r[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(s)var c=s(n)}for(e&&e(r);u<i.length;u++)a=i[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(c)},r=self["webpackChunkdonaton"]=self["webpackChunkdonaton"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(2341)}));r=n.O(r)})();
//# sourceMappingURL=app.de8525cf.js.map